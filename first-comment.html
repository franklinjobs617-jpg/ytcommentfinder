<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Content-Security-Policy"
      content="upgrade-insecure-requests"
    />
    <title>Find First YouTube Comment Instantly | YT Comment Finder</title>
    <meta
      name="description"
      content="Instantly find the very first comment on any YouTube video. Perfect for settling bets with friends or verifying viral claims. 100% free to use."
    />
    <link rel="canonical" href="https://ytcommentfinder.com/first-comment" />

    <!-- SEO: Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "YT Comment Finder - First Comment Tool",
        "description": "Instantly find the very first comment on any YouTube video. Perfect for settling bets with friends or verifying viral claims.",
        "url": "https://ytcommentfinder.com/first-comment",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Any",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    </script>

    <!-- Fonts: Inter for modern UI -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CSS & Lucide Icons -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Add Socket.IO client library from CDN -->
    <script src="https://cdn.socket.io/4.8.1/socket.io.min.js"></script>

    <!-- Custom Config -->
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            fontFamily: {
              sans: ['"Inter"', "sans-serif"],
            },
            colors: {
              border: "var(--border)",
              input: "var(--input)",
              ring: "var(--ring)",
              background: "var(--background)",
              foreground: "var(--foreground)",
              primary: {
                start: "var(--primary-start)",
                end: "var(--primary-end)",
                DEFAULT: "var(--primary)",
                foreground: "var(--primary-foreground)",
              },
              secondary: {
                start: "var(--secondary-start)",
                end: "var(--secondary-end)",
                DEFAULT: "var(--secondary)",
                foreground: "var(--secondary-foreground)",
              },
              accent: {
                start: "var(--accent-start)",
                end: "var(--accent-end)",
                DEFAULT: "var(--accent)",
                foreground: "var(--accent-foreground)",
              },
              muted: {
                DEFAULT: "var(--muted)",
                foreground: "var(--muted-foreground)",
              },
              card: {
                DEFAULT: "var(--card)",
                foreground: "var(--card-foreground)",
              },
              success: "var(--success)",
              warning: "var(--warning)",
              error: "var(--error)",
            },
            animation: {
              "fade-in": "fadeIn 0.6s cubic-bezier(0.22, 0.61, 0.36, 1) both",
              "fade-in-up":
                "fadeInUp 0.6s cubic-bezier(0.22, 0.61, 0.36, 1) both",
              "pulse-glow":
                "pulseGlow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",
              float: "float 6s ease-in-out infinite",
              "gradient-x": "gradientX 3s ease infinite",
            },
            keyframes: {
              fadeIn: {
                "0%": { opacity: "0", transform: "translateY(15px)" },
                "100%": { opacity: "1", transform: "translateY(0)" },
              },
              fadeInUp: {
                "0%": { opacity: "0", transform: "translateY(30px)" },
                "100%": { opacity: "1", transform: "translateY(0)" },
              },
              pulseGlow: {
                "0%, 100%": {
                  opacity: "1",
                  boxShadow: "0 0 0 0px rgba(59, 130, 246, 0.4)",
                },
                "50%": {
                  opacity: "1",
                  boxShadow: "0 0 0 10px rgba(59, 130, 246, 0)",
                },
              },
              float: {
                "0%, 100%": { transform: "translateY(0)" },
                "50%": { transform: "translateY(-12px)" },
              },
              gradientX: {
                "0%, 100%": {
                  "background-size": "200% 200%",
                  "background-position": "left center",
                },
                "50%": {
                  "background-size": "200% 200%",
                  "background-position": "right center",
                },
              },
              scaleBounce: {
                "0%": { transform: "scale(1)" },
                "50%": { transform: "scale(1.2)" },
                "100%": { transform: "scale(1)" },
              },
            },
          },
        },
      };
    </script>

    <style>
      :root {
        --background: #ffffff;
        --foreground: #09090b;
        --card: #ffffff;
        --card-foreground: #09090b;
        --popover: #ffffff;
        --popover-foreground: #09090b;
        --primary: #3b82f6;
        --primary-start: #3b82f6;
        --primary-end: #8b5cf6;
        --primary-foreground: #ffffff;
        --secondary: #f4f4f5;
        --secondary-start: #06b6d4;
        --secondary-end: #0ea5e9;
        --secondary-foreground: #18181b;
        --muted: #f4f4f5;
        --muted-foreground: #71717a;
        --accent: #f4f4f5;
        --accent-start: #f59e0b;
        --accent-end: #f97316;
        --accent-foreground: #18181b;
        --destructive: #ef4444;
        --destructive-foreground: #fafafa;
        --border: #e4e4e7;
        --input: #e4e4e7;
        --ring: #3b82f6;
        --radius: 0.75rem;
        --success: #10b981;
        --warning: #f59e0b;
        --error: #ef4444;
      }

      .dark {
        --background: #09090b;
        --foreground: #fafafa;
        --card: #18181b;
        --card-foreground: #fafafa;
        --popover: #09090b;
        --popover-foreground: #fafafa;
        --primary: #3b82f6;
        --primary-start: #3b82f6;
        --primary-end: #8b5cf6;
        --primary-foreground: #fafafa;
        --secondary: #27272a;
        --secondary-start: #06b6d4;
        --secondary-end: #0ea5e9;
        --secondary-foreground: #fafafa;
        --muted: #27272a;
        --muted-foreground: #a1a1aa;
        --accent: #27272a;
        --accent-start: #f59e0b;
        --accent-end: #f97316;
        --accent-foreground: #fafafa;
        --destructive: #7f1d1d;
        --destructive-foreground: #fafafa;
        --border: #27272a;
        --input: #27272a;
        --ring: #3b82f6;
        --success: #10b981;
        --warning: #f59e0b;
        --error: #ef4444;
      }

      body {
        background-color: var(--background);
        color: var(--foreground);
        transition: background-color 0.3s, color 0.3s;
        font-family: "Inter", sans-serif;
        overflow-x: hidden;
      }

      /* 样式复刻 tsx */
      .section-padding {
        padding-top: 5rem;
        padding-bottom: 5rem;
      }

      .card-hover {
        transition: all 0.3s ease;
      }
      .card-hover:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.08);
      }
      .dark .card-hover:hover {
        box-shadow: 0 4px 12px -2px rgba(255, 255, 255, 0.05);
      }

      .pulse-glow:hover {
        animation: pulseGlow 2s infinite;
      }

      /* Gradient enhancements */
      .gradient-text {
        background: linear-gradient(
          135deg,
          var(--primary-start),
          var(--primary-end)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        background-size: 200% auto;
        animation: gradientText 3s linear infinite;
      }

      .gradient-bg {
        background: linear-gradient(
          135deg,
          var(--primary-start),
          var(--primary-end)
        );
        background-size: 200% 200%;
        animation: gradientBG 5s ease infinite;
      }

      .secondary-gradient-bg {
        background: linear-gradient(
          135deg,
          var(--secondary-start),
          var(--secondary-end)
        );
        background-size: 200% 200%;
        animation: gradientBG 6s ease infinite;
      }

      .accent-gradient-bg {
        background: linear-gradient(
          135deg,
          var(--accent-start),
          var(--accent-end)
        );
        background-size: 200% 200%;
        animation: gradientBG 7s ease infinite;
      }

      @keyframes gradientText {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      @keyframes gradientBG {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      .gradient-border {
        position: relative;
        border-radius: var(--radius);
      }

      .gradient-border::before {
        content: "";
        position: absolute;
        top: -1px;
        left: -1px;
        right: -1px;
        bottom: -1px;
        background: linear-gradient(
          135deg,
          var(--primary-start),
          var(--primary-end)
        );
        border-radius: calc(var(--radius) + 1px);
        z-index: -1;
        opacity: 0.2;
      }

      /* [新增] Toast Notification Style */
      #toast-container {
        position: fixed;
        bottom: 24px;
        right: 24px;
        z-index: 100;
        display: flex;
        flex-direction: column;
        gap: 10px;
        pointer-events: none;
      }

      .toast {
        background: var(--card);
        color: var(--foreground);
        border: 1px solid var(--border);
        padding: 12px 16px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        font-weight: 500;
        pointer-events: auto;
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.3s ease;
      }

      .toast.show {
        opacity: 1;
        transform: translateY(0);
      }

      .toast-success {
        border-left: 4px solid var(--success);
      }
      .toast-error {
        border-left: 4px solid var(--error);
      }

      /* Animated background elements */
      .animated-bg {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        overflow: hidden;
        z-index: -1;
      }

      .animated-bg .shape {
        position: absolute;
        opacity: 0.07;
        border-radius: 50%;
        filter: blur(20px);
        animation-duration: 8s;
        animation-timing-function: ease-in-out;
        animation-iteration-count: infinite;
      }

      .shape-1 {
        width: 350px;
        height: 350px;
        background: linear-gradient(
          135deg,
          var(--primary-start),
          var(--primary-end)
        );
        top: 5%;
        left: 2%;
        animation-name: float, pulse;
      }

      .shape-2 {
        width: 250px;
        height: 250px;
        background: linear-gradient(
          135deg,
          var(--secondary-start),
          var(--secondary-end)
        );
        bottom: 10%;
        right: 5%;
        animation-name: floatReverse, pulse;
        animation-delay: 1s;
      }

      .shape-3 {
        width: 200px;
        height: 200px;
        background: linear-gradient(
          135deg,
          var(--accent-start),
          var(--accent-end)
        );
        top: 35%;
        right: 15%;
        animation-name: float, pulse;
        animation-delay: 2s;
      }

      .shape-4 {
        width: 180px;
        height: 180px;
        background: linear-gradient(135deg, var(--warning), var(--error));
        top: 60%;
        left: 10%;
        animation-name: floatReverse, pulse;
        animation-delay: 3s;
      }

      @keyframes floatReverse {
        0%,
        100% {
          transform: translateY(0) translateX(0);
        }
        50% {
          transform: translateY(-20px) translateX(10px);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 0.07;
          transform: scale(1);
        }
        50% {
          opacity: 0.12;
          transform: scale(1.1);
        }
      }

      /* Enhanced card styles - 更加简洁的效果 */
      .feature-card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 1.75rem;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        position: relative;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        transform: translateY(0);
      }

      .feature-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          90deg,
          var(--primary-start),
          var(--primary-end)
        );
        transform: scaleX(0);
        transform-origin: left;
        transition: transform 0.4s ease;
      }

      .feature-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 15px 35px -10px rgba(0, 0, 0, 0.15);
      }

      .feature-card:hover::before {
        transform: scaleX(1);
      }

      .dark .feature-card {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      .dark .feature-card:hover {
        box-shadow: 0 15px 35px -10px rgba(0, 0, 0, 0.3);
      }

      /* Shake animation for errors */
      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          transform: translateX(-5px);
        }
        20%,
        40%,
        60%,
        80% {
          transform: translateX(5px);
        }
      }

      .animate-shake {
        animation: shake 0.5s ease-in-out;
      }

      /* 工具网格卡片样式 */
      .tool-card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 1.75rem;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        position: relative;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        transform: translateY(0);
      }

      .tool-card::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          120deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        transform: translateX(-100%);
        transition: transform 0.6s ease;
      }

      .tool-card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 15px 35px -10px rgba(0, 0, 0, 0.15);
      }

      .tool-card:hover::after {
        transform: translateX(100%);
      }

      .dark .tool-card {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      .dark .tool-card:hover {
        box-shadow: 0 15px 35px -10px rgba(0, 0, 0, 0.3);
      }

      /* Image Placeholder for Assets */
      .img-placeholder {
        width: 100%;
        height: 100%;
        min-height: 200px;
        background-color: var(--muted);
        border: 2px dashed var(--border);
        border-radius: var(--radius);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: var(--muted-foreground);
        font-size: 0.8rem;
        position: relative;
        overflow: hidden;
      }
      .img-placeholder img {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      /* 斜角卡片 */
      .skewed-card {
        transform: skewX(-5deg);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        position: relative;
        overflow: hidden;
        box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.1);
      }

      .skewed-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: 0.5s;
        z-index: 1;
      }

      .skewed-card:hover::before {
        left: 100%;
      }

      .skewed-card:hover {
        transform: skewX(-5deg) translateY(-8px) scale(1.02);
        box-shadow: 0 15px 35px -10px rgba(0, 0, 0, 0.2);
      }

      .skewed-card-content {
        transform: skewX(5deg);
        position: relative;
        z-index: 2;
      }

      /* 视差背景效果 */
      .parallax-bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-attachment: fixed;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        z-index: -1;
        opacity: 0.1;
        animation: parallaxFloat 15s ease-in-out infinite alternate;
      }

      @keyframes parallaxFloat {
        0% {
          transform: translate(0, 0) scale(1);
        }
        50% {
          transform: translate(2px, 2px) scale(1.02);
        }
        100% {
          transform: translate(0, 0) scale(1);
        }
      }

      @keyframes scaleBounce {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      /* 分割线装饰 */
      .divider {
        height: 1px;
        background: linear-gradient(
          90deg,
          transparent,
          var(--primary-start),
          transparent
        );
        margin: 3rem 0;
      }

      /* Tutorial Step Styling */
      .step-card {
        margin-bottom: 2rem;
        border: 1px solid var(--border);
        padding: 1.5rem;
        border-radius: var(--radius);
        background-color: var(--card);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
      }

      .step-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      }

      .pro-tip {
        border-left: 5px solid transparent;
        border-image: linear-gradient(
            to bottom,
            var(--primary-start),
            var(--primary-end)
          )
          1;
        background: linear-gradient(
          to right,
          rgba(59, 130, 246, 0.05),
          transparent
        );
        padding: 1.5rem;
        margin: 2rem 0;
        border-radius: 0 var(--radius) var(--radius) 0;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
      }

      .dark .pro-tip {
        background: linear-gradient(
          to right,
          rgba(59, 130, 246, 0.1),
          transparent
        );
      }
    </style>
  </head>
  <body class="antialiased min-h-screen flex flex-col">
    <!-- [新增] Toast Container -->
    <div id="toast-container"></div>

    <!-- Navbar (Fixed, Glassy) -->
    <nav class="fixed top-0 w-full z-50 border-b border-border/40 bg-background/80 backdrop-blur-md">
      <div class="container mx-auto px-4 h-16 flex justify-between items-center">
        <!-- Logo -->
        <a href="/" class="flex items-center gap-2 group">
          <div class="w-8 h-8 rounded-lg gradient-bg text-white flex items-center justify-center shadow-sm group-hover:scale-105 transition-transform">
            <i data-lucide="zap" class="w-4 h-4"></i>
          </div>
          <span class="font-bold text-lg tracking-tight">YT Finder</span>
        </a>

        <!-- Desktop Menu -->
        <div class="hidden md:flex items-center gap-8 text-sm font-medium text-muted-foreground">
          <a href="#features" class="hover:text-foreground transition-colors">Features</a>
          <a href="/first-comment.html" class="hover:text-foreground transition-colors">First Comment</a>
          <a href="/ai-analysis.html" class="hover:text-foreground transition-colors">AI Analysis</a>
          <a href="/export-data.html" class="hover:text-foreground transition-colors">Export</a>
          <a href="/blog/comment-history.html" class="hover:text-foreground transition-colors">Comment History</a>
        </div>

        <!-- Actions -->
        <div class="flex items-center gap-4">
          <button id="theme-toggle" class="p-2 rounded-md hover:bg-muted text-muted-foreground transition-colors">
            <i data-lucide="moon" class="w-5 h-5 hidden dark:block"></i>
            <i data-lucide="sun" class="w-5 h-5 block dark:hidden"></i>
          </button>
          
          <a href="#search" class="hidden sm:inline-flex items-center justify-center h-9 px-4 rounded-md text-sm font-medium gradient-bg text-white shadow hover:opacity-90 transition-opacity">
            Get Started
          </a>
        </div>
      </div>
    </nav>

    <main class="flex-grow pt-16">
      <!-- Hero Section -->
      <section class="section-padding relative overflow-hidden">
        <div
          class="absolute inset-0 bg-gradient-to-br from-primary-start/5 via-secondary-start/5 to-accent-start/5 pointer-events-none"
        ></div>

        <div
          class="container mx-auto px-4 relative max-w-4xl text-center animate-fade-in"
        >
          <div
            class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-primary-start/10 to-primary-end/10 text-primary-start border border-primary-start/20 text-sm font-medium mb-6"
          >
            <i data-lucide="crown" class="w-4 h-4"></i>
            Viral Comment Detection
          </div>

          <h1
            class="text-4xl md:text-5xl font-bold text-foreground mb-6 leading-tight"
          >
            Find the First Comment on YouTube <br class="hidden md:block" />
            <span class="gradient-text">Instantly</span>
          </h1>

          <p class="text-lg text-muted-foreground mb-10 max-w-2xl mx-auto">
            You and your friends making a bet? Use our 100% free tool to
            pinpoint the very first comment on any public YouTube video in under
            one second.
          </p>

          <!-- Search Form -->
          <div class="max-w-2xl mx-auto mb-8 relative group">
            <div
              class="absolute -inset-1 bg-gradient-to-r from-primary-start to-primary-end rounded-lg opacity-20 blur transition duration-500 group-hover:opacity-40"
            ></div>
            <div
              class="relative flex flex-col sm:flex-row gap-2 bg-background p-2 rounded-lg border border-border shadow-xl"
            >
              <div class="relative flex-1">
                <i
                  data-lucide="youtube"
                  class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"
                ></i>
                <input
                  type="url"
                  id="urlInput"
                  placeholder="Paste YouTube Video URL here"
                  class="w-full h-12 pl-12 pr-4 bg-transparent outline-none text-foreground placeholder:text-muted-foreground text-base"
                />
              </div>
              <button
                onclick="handleSearch()"
                id="searchBtn"
                class="h-12 px-8 bg-gradient-to-r from-primary-start to-primary-end text-white font-medium rounded-md hover:opacity-90 transition-all flex items-center justify-center gap-2 shadow-sm whitespace-nowrap pulse-glow"
              >
                <i data-lucide="search" class="w-4 h-4"></i>
                Find First Comment
              </button>
            </div>
          </div>

          <!-- [修改] Result Card Container - 初始隐藏 -->
          <div
            id="resultContainer"
            class="hidden max-w-2xl mx-auto bg-card rounded-xl border border-border p-6 shadow-sm gradient-border text-left"
          >
            <div class="flex items-center justify-between mb-4">
              <div class="flex items-center gap-2">
                <div class="bg-green-100 dark:bg-green-900/30 p-1 rounded-full">
                  <i
                    data-lucide="check"
                    class="w-4 h-4 text-green-600 dark:text-green-400"
                  ></i>
                </div>
                <h3 class="font-semibold text-foreground">
                  First Comment Found
                </h3>
              </div>
              <span
                id="searchTime"
                class="text-xs text-muted-foreground bg-muted px-2 py-1 rounded"
                >Time: 0.8s</span
              >
            </div>

            <div
              class="bg-gradient-to-r from-primary-start/5 to-secondary-start/5 rounded-lg p-4 mb-4 border border-primary-start/10"
            >
              <div class="flex items-start gap-3">
                <div
                  id="authorAvatar"
                  class="w-10 h-10 rounded-full bg-gradient-to-br from-primary-start to-primary-end flex items-center justify-center flex-shrink-0 overflow-hidden ring-2 ring-background"
                >
                  <!-- Avatar injected via JS -->
                </div>
                <div class="flex-1 min-w-0">
                  <div class="flex items-center gap-2 mb-1 flex-wrap">
                    <span
                      id="authorName"
                      class="font-bold text-foreground text-sm"
                      >Username</span
                    >
                    <span class="text-xs text-muted-foreground">•</span>
                    <span id="publishDate" class="text-xs text-muted-foreground"
                      >Date</span
                    >
                  </div>
                  <p
                    id="commentText"
                    class="text-foreground text-sm break-words whitespace-pre-wrap leading-relaxed"
                  >
                    Comment text...
                  </p>
                </div>
              </div>
            </div>

            <!-- Actions -->
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
              <button
                onclick="copyToClipboard()"
                class="flex items-center justify-center gap-2 text-sm font-medium text-foreground bg-secondary/30 hover:bg-secondary/50 px-3 py-2 rounded-md transition-colors border border-secondary/50"
              >
                <i data-lucide="copy" class="w-4 h-4"></i> Copy Text
              </button>
              <button
                onclick="shareOnTwitter()"
                class="flex items-center justify-center gap-2 text-sm font-medium text-foreground bg-secondary/30 hover:bg-secondary/50 px-3 py-2 rounded-md transition-colors border border-secondary/50"
              >
                <i data-lucide="twitter" class="w-4 h-4"></i> Share on X
              </button>
              <button
                onclick="shareLink()"
                class="flex items-center justify-center gap-2 text-sm font-medium text-foreground bg-secondary/30 hover:bg-secondary/50 px-3 py-2 rounded-md transition-colors border border-secondary/50"
              >
                <i data-lucide="youtube" class="w-4 h-4"></i> Open in YT
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Viral Spread Potential Section -->
      <section
        class="py-16 bg-gradient-to-br from-background to-secondary/5 border-y border-border"
      >
        <div class="container mx-auto px-4 max-w-4xl">
          <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-foreground mb-4">
              Why First Comments Go Viral
            </h2>
            <p class="text-muted-foreground max-w-2xl mx-auto">
              Understanding the mechanics behind viral first comments can help
              you craft your own attention-grabbing opener.
            </p>
          </div>

          <div class="grid md:grid-cols-3 gap-6">
            <div class="step-card text-center">
              <div
                class="w-12 h-12 rounded-full bg-gradient-to-br from-primary-start to-primary-end flex items-center justify-center mx-auto mb-4"
              >
                <span class="text-white font-bold">1</span>
              </div>
              <h3 class="text-xl font-semibold text-foreground mb-2">
                Timing is Everything
              </h3>
              <p class="text-muted-foreground">
                The fastest typists who watch premieres live have the best
                chance of securing the #1 spot.
              </p>
            </div>

            <div class="step-card text-center">
              <div
                class="w-12 h-12 rounded-full bg-gradient-to-br from-secondary-start to-secondary-end flex items-center justify-center mx-auto mb-4"
              >
                <span class="text-white font-bold">2</span>
              </div>
              <h3 class="text-xl font-semibold text-foreground mb-2">
                Simple Works Best
              </h3>
              <p class="text-muted-foreground">
                Short, punchy comments like "First!" or "Beat you to it!" are
                most likely to claim the top spot.
              </p>
            </div>

            <div class="step-card text-center">
              <div
                class="w-12 h-12 rounded-full bg-gradient-to-br from-accent-start to-accent-end flex items-center justify-center mx-auto mb-4"
              >
                <span class="text-white font-bold">3</span>
              </div>
              <h3 class="text-xl font-semibold text-foreground mb-2">
                Viral Potential
              </h3>
              <p class="text-muted-foreground">
                First comments on viral videos often gain thousands of views
                themselves, creating unexpected fame.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- How It Works Section -->
      <section class="section-padding bg-background">
        <div class="container mx-auto px-4 max-w-3xl">
          <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-foreground mb-4">
              How Our First Comment Finder Works
            </h2>
            <p class="text-muted-foreground">
              Our tool leverages the YouTube Data API to instantly locate the
              first comment on any public video.
            </p>
          </div>

          <div class="space-y-8">
            <div class="flex gap-6">
              <div
                class="flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-primary-start to-primary-end flex items-center justify-center text-white font-bold"
              >
                1
              </div>
              <div>
                <h3 class="text-xl font-semibold text-foreground mb-2">
                  Enter Video URL
                </h3>
                <p class="text-muted-foreground">
                  Paste any YouTube video URL into our search bar. Works with
                  videos of any age or view count.
                </p>
              </div>
            </div>

            <div class="flex gap-6">
              <div
                class="flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-primary-start to-primary-end flex items-center justify-center text-white font-bold"
              >
                2
              </div>
              <div>
                <h3 class="text-xl font-semibold text-foreground mb-2">
                  API Processing
                </h3>
                <p class="text-muted-foreground">
                  Our system queries the YouTube Data API with specialized
                  sorting parameters to identify the chronological first
                  comment.
                </p>
              </div>
            </div>

            <div class="flex gap-6">
              <div
                class="flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-primary-start to-primary-end flex items-center justify-center text-white font-bold"
              >
                3
              </div>
              <div>
                <h3 class="text-xl font-semibold text-foreground mb-2">
                  Instant Results
                </h3>
                <p class="text-muted-foreground">
                  Within milliseconds, we present the verified first comment
                  along with timestamp and user information.
                </p>
              </div>
            </div>
          </div>

          <div class="pro-tip mt-12">
            <div class="flex items-start gap-3">
              <i
                data-lucide="lightbulb"
                class="w-5 h-5 text-primary-start flex-shrink-0 mt-0.5"
              ></i>
              <div>
                <p class="font-bold mb-2">
                  Pro Tip: Check Video Premiere Times
                </p>
                <p class="text-muted-foreground">
                  Videos with live premieres often have the most competitive
                  first comment races. Check the video's premiere time and queue
                  up your comment 30 seconds early!
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- FAQ Section -->
      <section class="section-padding bg-secondary/10 border-y border-border">
        <div class="container mx-auto px-4 max-w-3xl">
          <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-foreground mb-4">
              Frequently Asked Questions
            </h2>
            <p class="text-muted-foreground">
              Everything you need to know about finding first YouTube comments.
            </p>
          </div>

          <div class="space-y-6">
            <div class="step-card">
              <h3 class="text-lg font-semibold text-foreground mb-2">
                Can I find first comments on private or unlisted videos?
              </h3>
              <p class="text-muted-foreground">
                No, our tool only works with publicly accessible videos. Private
                and unlisted videos require special permissions that our tool
                doesn't have.
              </p>
            </div>

            <div class="step-card">
              <h3 class="text-lg font-semibold text-foreground mb-2">
                Is there a limit to how many times I can use this tool?
              </h3>
              <p class="text-muted-foreground">
                Absolutely not! Our first comment finder is completely free and
                unlimited. Find the first comment on as many videos as you'd
                like.
              </p>
            </div>

            <div class="step-card">
              <h3 class="text-lg font-semibold text-foreground mb-2">
                What if the first comment was deleted?
              </h3>
              <p class="text-muted-foreground">
                YouTube's API will show the earliest available comment. If the
                actual first comment was deleted, it will show the next oldest
                comment.
              </p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="border-t border-border bg-card">
      <div class="container mx-auto px-4 py-12">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <a href="/" class="flex items-center gap-2 mb-4">
              <div
                class="w-8 h-8 rounded-lg gradient-bg flex items-center justify-center"
              >
                <i data-lucide="zap" class="w-4 h-4 text-white"></i>
              </div>
              <span class="font-bold text-lg">YT Finder</span>
            </a>
            <p class="text-muted-foreground text-sm mb-4">
              The fastest way to search, analyze, and export YouTube comments.
            </p>
            <div class="flex gap-3">
              <a
                href="#"
                class="w-8 h-8 rounded-full bg-muted flex items-center justify-center hover:bg-primary hover:text-white transition-colors"
              >
                <i data-lucide="twitter" class="w-4 h-4"></i>
              </a>
              <a
                href="#"
                class="w-8 h-8 rounded-full bg-muted flex items-center justify-center hover:bg-primary hover:text-white transition-colors"
              >
                <i data-lucide="github" class="w-4 h-4"></i>
              </a>
              <a
                href="#"
                class="w-8 h-8 rounded-full bg-muted flex items-center justify-center hover:bg-primary hover:text-white transition-colors"
              >
                <i data-lucide="linkedin" class="w-4 h-4"></i>
              </a>
            </div>
          </div>

          <div>
            <h3 class="font-semibold text-foreground mb-4">Product</h3>
            <ul class="space-y-2 text-sm text-muted-foreground">
              <li>
                <a href="/" class="hover:text-foreground transition-colors"
                  >Search</a
                >
              </li>
              <li>
                <a
                  href="/first-comment"
                  class="hover:text-foreground transition-colors"
                  >First Comment</a
                >
              </li>
              <li>
                <a
                  href="/ai-analysis"
                  class="hover:text-foreground transition-colors"
                  >AI Analysis</a
                >
              </li>
              <li>
                <a
                  href="/export-data"
                  class="hover:text-foreground transition-colors"
                  >Export</a
                >
              </li>
              <li>
                <a
                  href="/user-search"
                  class="hover:text-foreground transition-colors"
                  >User Search</a
                >
              </li>
            </ul>
          </div>

          <div>
            <h3 class="font-semibold text-foreground mb-4">Resources</h3>
            <ul class="space-y-2 text-sm text-muted-foreground">
              <li>
                <a href="/blog" class="hover:text-foreground transition-colors"
                  >Blog</a
                >
              </li>
              <li>
                <a href="/docs" class="hover:text-foreground transition-colors"
                  >Documentation</a
                >
              </li>
              <li>
                <a href="/api" class="hover:text-foreground transition-colors"
                  >API</a
                >
              </li>
              <li>
                <a
                  href="/support"
                  class="hover:text-foreground transition-colors"
                  >Support</a
                >
              </li>
            </ul>
          </div>

          <div>
            <h3 class="font-semibold text-foreground mb-4">Legal</h3>
            <ul class="space-y-2 text-sm text-muted-foreground">
              <li>
                <a
                  href="/privacy"
                  class="hover:text-foreground transition-colors"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a href="/terms" class="hover:text-foreground transition-colors"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="/contact"
                  class="hover:text-foreground transition-colors"
                  >Contact Us</a
                >
              </li>
            </ul>
          </div>
        </div>

        <div
          class="border-t border-border/50 mt-8 pt-8 text-center text-sm text-muted-foreground"
        >
          <p>
            © 2025 YT Comment Finder. This site is not affiliated with YouTube
            or Google.
          </p>
        </div>
      </div>
    </footer>

    <script>
      // ==========================================
      // 1. Initialization & Global State
      // ==========================================
      lucide.createIcons();
      let currentVideoId = null;
      let currentCommentId = null;
      let currentCommentText = "";

      // Theme Logic
      const themeToggle = document.getElementById("theme-toggle");
      const html = document.documentElement;
      if (
        localStorage.getItem("theme") === "dark" ||
        (!("theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        html.classList.add("dark");
      }
      themeToggle.addEventListener("click", () => {
        html.classList.toggle("dark");
        localStorage.setItem(
          "theme",
          html.classList.contains("dark") ? "dark" : "light"
        );
        lucide.createIcons();
      });

      // Toast Function
      function showToast(message, type = "success") {
        const container = document.getElementById("toast-container");
        const toast = document.createElement("div");
        toast.className = `toast ${
          type === "success" ? "toast-success" : "toast-error"
        }`;

        let color = type === "success" ? "#10b981" : "#ef4444";
        toast.innerHTML = `
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="${color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
        <span>${message}</span>
      `;
        container.appendChild(toast);

        requestAnimationFrame(() => toast.classList.add("show"));
        setTimeout(() => {
          toast.classList.remove("show");
          setTimeout(() => toast.remove(), 300);
        }, 3000);
      }

      // Helper functions
      function extractVideoId(url) {
        const regexPatterns = [
          /(?:https?:\/\/)?(?:www\.)?youtube\.com\/watch\?v=([^&]+)/,
          /(?:https?:\/\/)?(?:www\.)?youtu\.be\/([^?]+)/,
          /(?:https?:\/\/)?(?:www\.)?youtube\.com\/embed\/([^?]+)/,
          /(?:https?:\/\/)?(?:www\.)?youtube\.com\/v\/([^?]+)/,
        ];
        for (const pattern of regexPatterns) {
          const match = url.match(pattern);
          if (match && match[1]) return match[1];
        }
        return null;
      }

      function formatDate(dateString) {
        if (!dateString) return "";
        return new Date(dateString).toLocaleString();
      }

      // ==========================================
      // 2. Action Functions (Copy, Share, Link)
      // ==========================================
      function copyToClipboard() {
        if (!currentCommentText) return;
        navigator.clipboard
          .writeText(currentCommentText)
          .then(() => {
            showToast("Comment text copied!");
          })
          .catch(() => {
            showToast("Failed to copy", "error");
          });
      }

      function shareOnTwitter() {
        if (!currentCommentText) return;
        const text = encodeURIComponent(
          `Found the first comment on this video! \n\n"${currentCommentText.substring(
            0,
            100
          )}${
            currentCommentText.length > 100 ? "..." : ""
          }"\n\nFind yours here: https://ytcommentfinder.com/first-comment`
        );
        const url = `https://twitter.com/intent/tweet?text=${text}`;
        window.open(url, "_blank");
      }

      function shareLink() {
        if (!currentVideoId || !currentCommentId)
          return showToast("Link not available", "error");
        const url = `https://www.youtube.com/watch?v=${currentVideoId}&lc=${currentCommentId}`;
        window.open(url, "_blank");
      }

      function resetSearchButton() {
        const btn = document.getElementById("searchBtn");
        btn.innerHTML =
          '<i data-lucide="search" class="w-4 h-4"></i> Find First Comment';
        btn.disabled = false;
        lucide.createIcons();
      }

      function displayResult(comment) {
        const container = document.getElementById("resultContainer");
        container.classList.remove("hidden");
        container.classList.add("animate-fade-in");

        // Parse Data
        let authorName, text, date, img, commentId;

        // Handle different data structures (flat or nested)
        if (comment.snippet && comment.snippet.topLevelComment) {
          const s = comment.snippet.topLevelComment.snippet;
          authorName = s.authorDisplayName;
          text = s.textDisplay;
          date = s.publishedAt;
          img = s.authorProfileImageUrl;
          commentId = comment.id; // topLevel ID
        } else {
          authorName = comment.authorDisplayName || "Unknown";
          text = comment.textDisplay || "";
          date = comment.publishedAt || "";
          img = comment.authorProfileImageUrl;
          commentId = comment.id;
        }

        // Store globally for actions
        currentCommentText = text;
        currentCommentId = commentId;

        // Update UI
        document.getElementById("authorName").textContent = authorName;
        document.getElementById("publishDate").textContent = formatDate(date);
        // Use innerHTML for textDisplay to render emojis/links correctly if safe, otherwise textContent
        document.getElementById("commentText").innerHTML = text;

        // Avatar
        const avatarContainer = document.getElementById("authorAvatar");
        if (img) {
          avatarContainer.innerHTML = `<img src="${img}" alt="${authorName}" class="w-full h-full object-cover">`;
        } else {
          const initial = authorName.charAt(0).toUpperCase();
          avatarContainer.innerHTML = `<span class="text-sm font-bold text-white">${initial}</span>`;
        }

        resetSearchButton();
        lucide.createIcons();
      }

      // ==========================================
      // 3. Socket Logic
      // ==========================================
      const socket = io("http://localhost:8002", {
        reconnectionDelayMax: 30000,
        randomizationFactor: 0,
      });

      socket.on("connect", () => console.log("Connected to backend"));

      socket.on("videoInfo", (info) => {
        console.log("Video Info:", info);
        socket.emit("getFirstComment");
      });

      // Listen for comments (The array of comments)
      socket.on("groupComments", (data) => {
        if (data && data.items && data.items.length > 0) {
          displayResult(data.items[0]); // Display the first one
        } else {
          if (data.totalCount === 0) {
            showToast("No comments found on this video.", "error");
            resetSearchButton();
          }
        }
      });

      socket.on("idInvalid", () => {
        showToast("Invalid Video ID.", "error");
        resetSearchButton();
      });

      // Loading progress
      socket.on("loadStatus", (status) => {
        if (typeof status === "number" && status > 0) {
          const btn = document.getElementById("searchBtn");
          btn.innerHTML = `<i data-lucide="loader" class="w-4 h-4 animate-spin"></i> Analyzed ${status} comments...`;
          lucide.createIcons();
        }
      });

      // ==========================================
      // 4. Main Search Handler
      // ==========================================
      function handleSearch() {
        const urlInput = document.getElementById("urlInput");
        const url = urlInput.value.trim();

        if (!url) return showToast("Please enter a URL", "error");

        const videoId = extractVideoId(url);
        if (!videoId) return showToast("Invalid YouTube URL", "error");

        currentVideoId = videoId;

        // Hide previous result
        document.getElementById("resultContainer").classList.add("hidden");

        // Set Loading UI
        const btn = document.getElementById("searchBtn");
        btn.innerHTML =
          '<i data-lucide="loader" class="w-4 h-4 animate-spin"></i> Searching...';
        btn.disabled = true;
        lucide.createIcons();

        // Emit
        socket.emit("idSent", videoId);

        // Timeout
        setTimeout(() => {
          if (btn.disabled) {
            resetSearchButton();
            showToast("Request timed out.", "error");
          }
        }, 60000);
      }
    </script>
  </body>
</html>
